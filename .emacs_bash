shopt -s histappend
HISTFILESIZE=1000000
HISTSIZE=1000000
HISTTIMEFORMAT='%F %T '
# PROMPT_COMMAND="history -a;$PROMPT_COMMAND"
PROMPT_COMMAND='history -a'

export HISTIGNORE=' *'
# export TERM='xterm-256color' # портит prompt? значит, только для emacsclient запускать
export EDITOR='emacsclient'
export XEDITOR='/usr/bin/emacsclient'
# export SAGE_ROOT=/home/eab/projects/sage-4.3.3
# export SAGE_DOC=$SAGE_ROOT/devel/sage/doc
# export SAGE_LOCAL=$SAGE_ROOT/local
# export DOT_SAGE=~/.sage/
# export PATH=$PATH:$SAGE_ROOT/local/bin
# export LD_LIBRARY_PATH="$SAGE_ROOT/local/lib/openmpi:$SAGE_ROOT/local/lib/:"
export scripting=$HOME/data/src/
export PYTHONPATH=/home/eab/git/python:$scripting/src/tools:$scripting/scitools/bin:$scripting/scitools/lib:/usr/local/lib/python2.6/dist-packages/rope:/usr/local/lib/python2.6/dist-packages/ropemacs:/usr/local/lib/python2.6/dist-packages
# :$SAGE_ROOT/local/bin:$SAGE_ROOT/local/lib/python2.6/site-packages/setuptools-0.6c8-py2.6.egg:$SAGE_ROOT/local/lib/python2.6/site-packages/SQLAlchemy-0.4.3-py2.6.egg:$SAGE_ROOT/local/bin:$SAGE_ROOT/local/lib/python:$SAGE_ROOT/local/lib/python25.zip:$SAGE_ROOT/local/lib/python2.6/plat-linux2:$SAGE_ROOT/local/lib/python2.6/lib-tk:$SAGE_ROOT/local/lib/python2.6/lib-dynload:$SAGE_ROOT/local/lib/python2.6/site-packages:$SAGE_ROOT/local/lib/python2.6/site-packages/IPython/Extensions
PATH=$PATH:$scripting/src/tools:$scripting/scitools/bin
export MACHINE_TYPE=`uname`
PATH=$PATH:$scripting/$MACHINE_TYPE/bin
PATH=$PATH:~/data/src/sage-4.7
PATH=$PATH:~/projects/android/tools
PATH=$PATH:~/git/auto
PATH=$PATH:~/git/python
PATH=$PATH:/var/lib/gems/1.8/bin/
PATH=$PATH:~/bin/
PATH=/home/eab/.emacs.d/el-get/cask/bin/:$PATH


# i moved aliases here special for emacs
# some more ls aliases
#alias ll='ls -l'
#alias la='ls -A'
#alias l='ls -CF'

alias ditaa='java -jar ~/bin/ditaa0_9.jar'
alias rm='rm -i'
alias mv='mv -i'
alias grep='grep -i'
# alias runbrowser='bash ~/git/auto/run-browser.sh'
# alias my='bash ~/git/auto/run-browser.sh'
alias gg='bash ~/git/auto/gg.sh'
alias gemacs='ps -A ux | grep emacs'
alias kemacs='sudo kill -s KILL '
alias remacs='bash -i -c "ssh -X eab@rainbow.local -t emacsclient -c&"'
alias cemacs='bash -c "~/git/auto/run-editor.sh&" && exit'
alias bash256='TERM=xterm-256color bash'
alias tmux='TERM=xterm-256color tmux'
alias temacs='TERM=xterm-256color emacsclient -t'
alias tnemacs='TERM=xterm-256color emacsclient -s serverN -t'
alias tpemacs='TERM=xterm-256color emacsclient -s serverP -t'
alias tmemacs='TERM=xterm-256color emacsclient -s serverM -t'
alias taemacs='TERM=xterm-256color emacsclient -s serverA -t'
alias pemacs='bash -c "~/git/auto/run-editor.sh -s serverP&" && exit'
alias nemacs='bash -c "~/git/auto/run-editor.sh -s serverN&" && exit'
alias memacs='bash -c "~/git/auto/run-editor.sh -s serverM&" && exit'
alias demacs='`which emacs` --daemon'
alias dpemacs_new='env HOME=/home/eab/newemacs bash -i -c dpemacs'
alias dpemacs='export EMACS_SERVER_NAME=serverP && /home/eab/data/gitno/emacs24.4/emacs-24.5/src/emacs-24.5.1 --daemon=$EMACS_SERVER_NAME && pemacs'
alias dnemacs='export EMACS_SERVER_NAME=serverN && `which emacs` --daemon=$EMACS_SERVER_NAME'
alias dmemacs='export EMACS_SERVER_NAME=serverM && /home/eab/data/gitno/emacs24.4/emacs-24.5/src/emacs-24.5.1 --daemon=$EMACS_SERVER_NAME'
alias daemacs='export EMACS_SERVER_NAME=serverA && `which emacs` -q --daemon=$EMACS_SERVER_NAME --eval "(progn (setq user-emacs-directory \"~/emacs/\") (setq el-get-dir \"~/emacs/el-get/\"))" --eval "(ignore-errors (load \"~/emacs/init.el\"))"'
alias anemacs='bash ~/git/auto/run-editor.sh -s serverA&'

# alias emacs='bash ~/git/auto/run-editor.sh&'
# alias emacssudo='bash ~/git/auto/run-emacssudo.sh'
# alias wiki='bash ~/wiki.sh'
# alias hibernate='sudo /usr/sbin/hibernate-ram'
alias hibernate='sudo /etc/acpi/sleepbtn.sh'
alias hibernatedisk='sudo /etc/acpi/hibernate.sh'
alias open='emacsclient -n'
alias usb100='sudo umount /media/sys100 /media/data100'
alias pdflatex='pdflatex --shell-escape'
# alias inst='sudo aptitude install'
# alias python='~/git/auto/run-sage.sh'
# alias maple='/home/eab/maple12/bin/xmaple'
alias maple='/home/eab/data/maple16/bin/maple'

tempbuffer() {
  perl -MFile::Temp -MFile::Copy -e \
  'copy *STDIN, $file = File::Temp->new; system "emacsclient", $file';
}

translate1() {
echo "[`wget -qO- --user-agent firefox \"https://www.googleapis.com/language/translate/v2?key=AIzaSyCaygCPJSYNAmrfQITdHKCFQLDzkBslFrc&q=$3&source=$1&target=$2\"`]" \
| jsawk -a "return this[0].data.translations[0].translatedText" \
| perl -MHTML::Entities -pe 'decode_entities($_)'
}
