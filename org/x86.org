#+TITLE: Руководство пользователя кластера ВЦ ДВО РАН
#+OPTIONS: toc:t H:6 num:nil html-postamble:nil ^:nil tags:nil author:nil
#+SETUPFILE: theme-readtheorg-local.setup
#+HTML_HEAD: <style type="text/css">.org-src-name{ text-align: right; }</style>
#+HTML_HEAD: <style type="text/css">.outline-2{ margin-top: 60px; }</style>
\\
\\
Данное руководство содержит минимально необходимый объем информации
для работы на кластере ВЦ ДВО РАН: описание процесса регистрации,
сведения по работе в ОС Linux (вход в систему, работа с каталогами и
файлами, мониторинг) и работе с MPI программами и не параллельными
программами на кластере (компиляция, запуск, остановка, работа с
очередями). В тексте под термином параллельная программа
подразумеваются только MPI программы.

Команды и переменные командного
интерпретатора, названия программ, листинги, непосредственный
ввод/вывод консоли выделены моноширинным шрифтом.

Вопросы относительно работы кластера следует отправлять на /e-mail/:
[[mailto:support@hpc.febras.net][support@hpc.febras.net]].

Вопросы относительно этого документа (ошибки, неточности, предложения)
можно отправлять на /e-mail/: [[mailto:support@hpc.febras.net][support@hpc.febras.net]].

* Содержание :ignore:

#+TOC: headlines 3 local

* Регистрация

Регистрация пользователей на кластере происходит автоматически – посредством web-интерфейса. Загрузить html страницу с формой для регистрации можно по адресу: http://hpc.febras.net/cluster/registration.html
 или пройти по ссылке с главной страницы сайта кластера: http://hpc.febras.net.

В регистрационной форме пользователь должен заполнить ряд обязательных (выделены символом «*») полей:

*Фамилия*, *Имя*, *Отчество* Заполнение разрешено как кириллицей, так и латинскими буквами.

*Email (сообщения кластера)* По этому адресу будут отправляться сообщения связанные с пользовательскими заданиями, а также организационные сообщения связанные с регистрацией пользователя, ошибками в работе и т.п.

*Телефон* Номер контактного телефона.

*Место работы* Полное наименование места работы или учебы.

*Логин*  Имя пользователя применяемое для входа на кластер. Разрешено применение тольколатинских букв и цифр. Минимальный размер этого поля 4 символа.

*Пароль*  Желаемый пароль для входа на кластер. Разрешено применение только латинских букв и цифр. Минимальный размер этого поля 8 символов.

*Пароль (еще раз)*  То же, что и предыдущее. Служит для контроля корректности ввода пароля.

*Цель регистрации* В этом поле пользователь может оставить дополнительную информацию
для администратора, которую он посчитает важной.

После заполнения формы и нажатия на кнопку «Отправить регистрационную
информацию» заявка на регистрацию автоматически будут отправлена
администратору кластера. Заявка рассматривается администратором,
решение о регистрации согласовывается, в случае необходимости, с
руководством. При отсутствии ошибок заполнения формы и принятия
положительного решения о регистрации будет создана учетная запись
пользователя. На контактный e-mail будет отправлено сообщение,
содержащее краткие инструкции для подключения.

* Вход в систему



Для работы с системой пользователь должен иметь свою учетную запись на
управляющем узле кластера. Регистрация пользователя на кластере
происходит в соответствии с предыдущей частью руководства. После
регистрации пользователь получает свое имя (логин), пароль и домашнюю
директорию. Если имя пользователя, например, будет *user*, то домашняя
папка находится в */home/user*.

Пользователи имеют возможность работать на кластере с любой машины,
находящейся в сети института и интернет. Для входа в систему
пользователю необходим адрес сервера ([[http://jupiter.febras.net][mercury.febras.net]]), а также
имя и пароль, полученные при регистрации.

** Вход с Windows-машины

Работа с системой осуществляется по безопасному протоколу SSH при помощи какого-либо
ssh-клиента. Клиент должен поддерживать протокол версии 2. Рекомендуется использовать 
[[https://www.chiark.greenend.org.uk/~sgtatham/putty/][PuTTY]].
Эта программа является свободно распространяемой и проста в использовании.

После запуска программы (рис. 1) пользователь должен выбрать протокол
ssh и в поле «Host Name (or IP address)» указать адрес
сервера. Нажатие на «Open» приведет к отправке запроса на
подключение. В случае успешного подключения к серверу будет предложено
ввести имя (логин), а затем и пароль.

#+NAME: fig:putty
#+caption: Окно ssh-клиента PuTTY
[[./putty.png]]

При вводе пароля символы на экране не отображаются. Если все введено
правильно, то пользователь автоматически окажется в своей домашней
директории. Этот каталог доступен пользователю с любого узла кластера.

#+begin_note
*Примечание*. На кластере существует единое дисковое пространство для
директорий */opt* (только чтение) и */home*.  Все узлы используют
дисковый массив сервера посредством сетевой файловой системы NFS. Файл
записанный на одном из узлов кластера автоматически становится
доступен на любом другом.
#+end_note

Работа в ssh-сессии происходит в терминальном (текстовом, консольном)
режиме. Необходимо помнить, что консоль Linux, в отличии от Windows,
различает регистр вводимых символов, то есть =mydoc.txt= и =mydoc.TXT= не
одно и то же. После входа на экране отображается консоль командного
интерпретатора в следующем формате имя_пользователя@машина текущий_каталог:

#+begin_src raw
[user@mercury ~]$
#+end_src

** Вход с терминала Linux

В любой дистрибутив ОС Linux входит терминальный ssh-клиент (обычно
OpenSSH). Минимальный формат команды для подключения к кластеру таков:

#+begin_src raw
[user@localhost ~]$ ssh mercury.febras.net -l имя_пользователя
#+end_src

* Копирование файлов

* Работа на кластере

** Навигация

*** Консоль

*** mc

** Редактирование файлов

*** mc-edit

*** Emacs, VIM

** Компиляция программ

*** Замечания по разработке программ на отдельной машине

** Запуск задач

*** Диспетчеризация задач

*** Система очередей

*** Постановка задачи в очередь

*** Запуск интерактивных программ

*** Запуск непараллельных программ

*** Состояние пользовательских задач

*** Остановка задач

* Мониторинг

** Web-интерфейс

** Консоль

* Справочная информация
